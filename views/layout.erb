<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="/stylesheet.css">
  <title>Inventory System</title>
</head>
<body>
  <h1 style="margin-left: 10px;">Inventory Management System</h1>
  <hr>

  <nav>
    <a href="/">Home</a> |
    <a href="/view">View Items</a> |
    <a href="/batch">Add Items In Batch</a> |
    <% if session[:user_id] %>
      <a href="/logout">Log Out</a>
    <% else %>
      <a href="/signup">Sign Up</a> |
      <a href="/login">Log In</a>
    <% end %>
  </nav>
  <div style="height: 20px;">
    <% if @message %>
    <div id="flash-message" style="color: green; font-weight: bold; margin-bottom: 10px; text-align: center; padding-top: 5px;">
      <%= @message %>
    </div>
  </div>

  <script>
    setTimeout(() => {
      const flash = document.getElementById('flash-message');
      if (flash) {
        flash.style.transition = "opacity 0.6s ease";
        flash.style.opacity = 0;
        setTimeout(() => flash.remove(), 600);
      }
    }, 3000);
  </script>
  <% end %>

  <main>
    <%= yield %>
  </main>

</body>
</html>
